{"ast":null,"code":"import { HttpClient, HttpRequest } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst BASE_URL = 'http://localhost:8080';\nconst CHUNK_SIZE = 1024 * 1024; // 1MB\nexport let FileUploadService = /*#__PURE__*/(() => {\n  class FileUploadService {\n    http;\n    constructor(http) {\n      this.http = http;\n    }\n    uploadFileInChunks(file, fileId) {\n      const totalChunks = Math.ceil(file.size / CHUNK_SIZE);\n      const formData = new FormData();\n      // This function only uploads a single chunk at a time.\n      // In a real app you would loop in the component and subscribe per chunk.\n      const firstChunk = file.slice(0, CHUNK_SIZE);\n      formData.append('file', firstChunk, file.name);\n      formData.append('fileId', fileId);\n      formData.append('chunkNumber', '1');\n      formData.append('totalChunks', String(totalChunks));\n      const req = new HttpRequest('POST', `${BASE_URL}/api/files/upload-chunk`, formData, {\n        reportProgress: true\n      });\n      return this.http.request(req);\n    }\n    static ɵfac = function FileUploadService_Factory(t) {\n      return new (t || FileUploadService)(i0.ɵɵinject(i1.HttpClient));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: FileUploadService,\n      factory: FileUploadService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return FileUploadService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}